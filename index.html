<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/resources/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/resources/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/resources/favicons/favicon-16x16.png">
  <link rel="manifest" href="/resources/favicons/site.webmanifest">
  <link rel="mask-icon" href="/resources/favicons/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/resources/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="/resources/favicons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="css/main.css">
  <title>Ethik und Informatik</title>
</head>

<body>

  <div class="header">
    <a href="index.html"><img src="resources/logo/logo_verbose.png" width=30%></img></a>
    <p>Sammlung kontroverser Beispiele und Beitr채ge, kuratiert von <a href="mailto:ethikundinformatik@m18.uni-weimar.de?subject=Beitrag f체r den Feed">ethikundinformatik@m18.uni-weimar.de</a></p>
  </div> 
  
  <!-- countdown timer -->
  <div class="container">
    <h3 id="headline">Countdown bis zum n채chsten Treffen:</h3>
    <div id="countdown">
      <ul>
        <li><span id="days"></span>Tage</li>
        <li><span id="hours"></span>Stunden</li>
        <li><span id="minutes"></span>Minuten</li>
        <li><span id="seconds"></span>Sekunden</li>
      </ul>
    </div>
    <div class="message">
      <div id="content">
        <p> Kommt in unseren Online-Raum!</p>
      </div>
    </div>
    <div class="content">
      <span>Wir treffen uns hier: <a href="https://meeting.uni-weimar.de/b/lud-3a2-zkz">https://meeting.uni-weimar.de/b/lud-3a2-zkz</a></span>
    </div>
  </div>

<script>
  (function () {
    const second = 1000,
      minute = second * 60,
      hour = minute * 60,
      day = hour * 24;
   
    let birthday = "Apr 7, 2021 18:00:00",
      countDown = new Date(birthday).getTime(),
      x = setInterval(function () {
        let now = new Date().getTime(),
          distance = countDown - now;
        while (distance < -hour*2) {
          distance = distance + 14*day;
        }
        (document.getElementById("days").innerText = Math.floor(distance / day)),
          (document.getElementById("hours").innerText = Math.floor(
            (distance % day) / hour
          )),
          (document.getElementById("minutes").innerText = Math.floor(
            (distance % hour) / minute
          )),
          (document.getElementById("seconds").innerText = Math.floor(
            (distance % minute) / second
          ));
   
        //do something later when date is reached
        if (distance < 0) {
          let headline = document.getElementById("headline"),
            countdown = document.getElementById("countdown"),
            content = document.getElementById("content");
          countdown.style.color = "#eb1c1c";
          headline.innerText = "Wir treffen uns jetzt!";
          countdown.style.display = "none";
          content.style.display = "block";
   
          clearInterval(x);
        } if (distance < 3600000 * 2) {
          let headline = document.getElementById("headline"),
            countdown = document.getElementById("countdown"),
            content = document.getElementById("content");
          countdown.style.color = "#eb1c1c";

        }
        //seconds
      }, 0);
  })();
   
  </script>


<!-- function to load XML file-->
<script>
  function loadXml(xmlfile_path) {
      fetch (xmlfile_path)
          .then (function (response) {
              // Antwort kommt als Text-String
              return response.text();
          })
          .then (function (data) {
              console.log (data);			  // schnell mal in der Konsole checken
              
              // String in ein XML-DOM-Objekt umwandeln
              let parser = new DOMParser (),
                  xmlDoc = parser.parseFromString (data, 'text/xml');
              console.log (xmlDoc.getElementsByTagName ('article'));
              console.log ("item "  + xmlDoc.getElementsByTagName ('article')[0].children[0].textContent);
              var articles = xmlDoc.getElementsByTagName("article")
              var i;
              for (i = 0; i < articles.length; i++) {
                  addArticle(articles[i], i);
              } 
      }).catch (function (error) {
          console.log ("Fehler: bei Auslesen der XML-Datei " + error);
      });
  }
  </script>


<!-- function to add dummy article -->
<script>
  function addArticle(article_item, index) {

  // Get articles element
  var articles = document.getElementById("articles");
   
   // Create element + set contents
   var article = document.createElement('div');//document.createElement("div id=\"article\"");
   article.setAttribute("id", "article");
   
   // Create article elements
   var title = document.createElement('div');
   title.innerHTML = article_item.children[1].textContent;
   title.setAttribute("id", "title");
   article.appendChild(title);

   var link = document.createElement('div');
   link.innerHTML = article_item.children[0].textContent;
   link.setAttribute("id", "link");
   article.appendChild(link);

   var author = document.createElement('div');
   author.innerHTML = article_item.children[2].textContent;
   author.setAttribute("id", "author");
   article.appendChild(author);

   var synopsis = document.createElement('div');
   synopsis.innerHTML = article_item.children[3].textContent;//"Have yourself a merry little christmas.";
   synopsis.setAttribute("id", "synopsis");
   article.appendChild(synopsis);
   
   articles.appendChild(article);

  }
  </script>

  <!-- function to load and add articles on page request -->
  <script>
  window.addEventListener("load", function(){
      loadXml("articles/articles.xml");
  });
  </script>

  <div id="articles"></div>

  <div class=footer>
    Copyright &copy; <script>document.write(new Date().getFullYear())</script>
    Ethik und Informatik (FsR Medien der Bauhaus-Universit채t Weimar). Alle Rechte vorbehalten. <br>
  </div>

</body>
</html>